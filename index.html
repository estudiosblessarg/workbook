<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Workbook Interior – Mandalas & PNL</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --primary: #ec4899;
  --accent: #f472b6;
  --bg-dark: #08000a;
  --header-dark: #120014;
  --text-dark: #fce7f3;
  --card: rgba(255,255,255,0.92);
  --border: #fbcfe8;
}

* {
  box-sizing: border-box;
  font-family: "Segoe UI", system-ui, sans-serif;
}

body {
  margin: 0;
  background: radial-gradient(circle at top, #2a002f, #120014 60%, #08000a);
  color: var(--text-dark);
}

/* ===== BACKGROUND CANVAS (MOUSE TRAIL) ===== */
#bg-canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

/* HEADER */
header {
  position: relative;
  height: 180px;
  background: linear-gradient(180deg, #120014, #08000a);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
  z-index: 2;
}

header h1 {
  position: relative;
  z-index: 3;
  margin: 0;
  font-size: 1.2rem;
}

/* HEADER CANVAS */
#header-canvas {
  position: absolute;
  inset: 0;
  z-index: 1;
}

/* NAV */
nav {
  position: fixed;
  right: -100%;
  top: 0;
  height: 100%;
  width: 260px;
  background: rgba(20,0,25,0.95);
  padding: 24px;
  transition: right .3s ease;
  z-index: 20;
}

nav.active { right: 0; }

nav a {
  display: block;
  margin-bottom: 16px;
  text-decoration: none;
  color: #fce7f3;
}

/* HAMBURGER */
.hamburger {
  font-size: 1.6rem;
  cursor: pointer;
  z-index: 3;
}

/* MAIN */
main {
  position: relative;
  z-index: 2;
  max-width: 1100px;
  margin: auto;
  padding: 40px 20px;
  display: grid;
  gap: 32px;
}

.section {
  background: var(--card);
  border-radius: 24px;
  padding: 32px;
  color: #4a044e;
  box-shadow: 0 20px 40px rgba(236,72,153,0.15);
}

.section h2 { color: #ec4899; }

.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(160px,1fr));
  gap: 16px;
  margin-top: 20px;
}

.gallery img {
  width: 100%;
  border-radius: 16px;
  aspect-ratio: 1/1;
  object-fit: cover;
}

textarea {
  width: 100%;
  min-height: 100px;
  border-radius: 16px;
  border: 1px solid var(--border);
  padding: 14px;
  margin-top: 16px;
}

button {
  background: var(--primary);
  border: none;
  border-radius: 999px;
  padding: 14px 24px;
  color: white;
  margin-top: 20px;
  cursor: pointer;
}

/* DESKTOP */
@media (min-width: 768px) {
  .hamburger { display: none; }
  nav {
    position: static;
    height: auto;
    width: auto;
    background: none;
    display: flex;
    gap: 24px;
    padding: 0;
  }
}
</style>
</head>

<body>

<canvas id="bg-canvas"></canvas>

<header>
  <canvas id="header-canvas"></canvas>
  <h1>Workbook Interior</h1>
  <div class="hamburger" onclick="toggleMenu()">☰</div>
  <nav id="nav"></nav>
</header>

<main id="app"></main>

<script>
/* ===== DATA ===== */
const data = {
  menu: [
    {id:"intro", label:"Bienvenida"},
    {id:"mandalas", label:"Mandalas"},
    {id:"lenguaje", label:"Lenguaje Interno"},
    {id:"reencuadre", label:"Reencuadre"},
    {id:"cierre", label:"Cierre"}
  ],
  sections: [
    { id:"intro", title:"Bienvenida", text:"Este workbook es un espacio seguro de exploración interior." },
    {
      id:"mandalas",
      title:"Mandalas",
      text:"Elegí un mandala y escribí tu intención.",
      gallery:[
        "https://images.unsplash.com/photo-1605000797499-95a51c5269ae",
        "https://images.unsplash.com/photo-1615485290382-441e4d049cb5",
        "https://images.unsplash.com/photo-1526318472351-bc6c2f77c3b3"
      ],
      textarea:"¿Qué intención querés trabajar?"
    },
    { id:"lenguaje", title:"Lenguaje Interno", text:"Observá tu diálogo interno.", textarea:"Escribí lo que aparece..." },
    { id:"reencuadre", title:"Reencuadre", text:"Transformá esa frase.", textarea:"Nueva versión..." },
    { id:"cierre", title:"Cierre", text:"Reflexión final.", textarea:"¿Qué te llevás?" }
  ]
};

/* MENU */
const nav = document.getElementById("nav");
data.menu.forEach(m=>{
  const a=document.createElement("a");
  a.href="#"+m.id;
  a.textContent=m.label;
  nav.appendChild(a);
});

function toggleMenu(){ nav.classList.toggle("active"); }

/* CONTENT */
const app=document.getElementById("app");
data.sections.forEach(sec=>{
  const s=document.createElement("section");
  s.className="section";
  s.id=sec.id;
  s.innerHTML=`<h2>${sec.title}</h2><p>${sec.text}</p>`;
  if(sec.gallery){
    const g=document.createElement("div");
    g.className="gallery";
    sec.gallery.forEach(src=>{
      const i=document.createElement("img");
      i.src=src;
      g.appendChild(i);
    });
    s.appendChild(g);
  }
  if(sec.textarea){
    const t=document.createElement("textarea");
    t.placeholder=sec.textarea;
    s.appendChild(t);
  }
  app.appendChild(s);
});

/* ===== COLORS ===== */
const colors=["#ec4899","#f472b6","#c026d3","#a855f7","#fb7185"];

/* ===== HEADER PARTICLES ===== */
const hCanvas=document.getElementById("header-canvas");
const hCtx=hCanvas.getContext("2d");
const header=document.querySelector("header");

function resizeHeader(){
  hCanvas.width=header.offsetWidth;
  hCanvas.height=header.offsetHeight;
}
window.addEventListener("resize",resizeHeader);
resizeHeader();

const hParticles=[];
for(let i=0;i<70;i++){
  hParticles.push({
    x:Math.random()*hCanvas.width,
    y:Math.random()*hCanvas.height,
    vx:(Math.random()-.5),
    vy:(Math.random()-.5),
    r:Math.random()*2+1,
    color:colors[Math.floor(Math.random()*colors.length)]
  });
}

function animateHeader(){
  hCtx.fillStyle="rgba(8,0,10,0.25)";
  hCtx.fillRect(0,0,hCanvas.width,hCanvas.height);
  hParticles.forEach(p=>{
    p.x+=p.vx; p.y+=p.vy;
    if(p.x<0||p.x>hCanvas.width) p.vx*=-1;
    if(p.y<0||p.y>hCanvas.height) p.vy*=-1;
    hCtx.beginPath();
    hCtx.shadowBlur=20;
    hCtx.shadowColor=p.color;
    hCtx.fillStyle=p.color;
    hCtx.arc(p.x,p.y,p.r,0,Math.PI*2);
    hCtx.fill();
  });
  requestAnimationFrame(animateHeader);
}
animateHeader();

/* ===== BACKGROUND MOUSE TRAIL ===== */
const bgCanvas=document.getElementById("bg-canvas");
const bCtx=bgCanvas.getContext("2d");

function resizeBg(){
  bgCanvas.width=innerWidth;
  bgCanvas.height=innerHeight;
}
window.addEventListener("resize",resizeBg);
resizeBg();

const trail=[];
document.addEventListener("mousemove",e=>{
  trail.push({
    x:e.clientX,
    y:e.clientY,
    r:Math.random()*3+2,
    a:1,
    dx:(Math.random()-.5)*.3,
    dy:(Math.random()-.5)*.3,
    c:colors[Math.floor(Math.random()*colors.length)]
  });
});

function animateBg(){
  bCtx.clearRect(0,0,bgCanvas.width,bgCanvas.height);
  for(let i=trail.length-1;i>=0;i--){
    const t=trail[i];
    t.x+=t.dx; t.y+=t.dy; t.a-=.03;
    bCtx.beginPath();
    bCtx.shadowBlur=30;
    bCtx.shadowColor=t.c;
    bCtx.fillStyle=`rgba(${hexToRgb(t.c)},${t.a})`;
    bCtx.arc(t.x,t.y,t.r,0,Math.PI*2);
    bCtx.fill();
    if(t.a<=0) trail.splice(i,1);
  }
  requestAnimationFrame(animateBg);
}
animateBg();

function hexToRgb(h){
  const n=parseInt(h.slice(1),16);
  return `${(n>>16)&255},${(n>>8)&255},${n&255}`;
}
</script>

</body>
</html>
